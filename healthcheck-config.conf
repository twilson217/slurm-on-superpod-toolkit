# Slurm Healthcheck Configuration File
# 
# This file allows you to customize the behavior of the healthcheck script.
# Uncomment and modify settings as needed.

[general]
# Default timeout for command execution (seconds)
command_timeout = 30

# Enable/disable colored output by default
use_colors = true

# Default verbosity level (false = normal, true = verbose)
verbose = false

[checks]
# Enable or disable specific check categories
# Set to false to skip a category of checks

enable_service_checks = true
enable_node_checks = true
enable_accounting_checks = true
enable_job_submission_tests = true
enable_pyxis_checks = true
enable_log_analysis = true
enable_munge_checks = true

[node_checks]
# Node health thresholds
# Percentage of nodes that can be down before triggering FAIL vs WARN
warn_threshold_percent = 10
fail_threshold_percent = 25

[log_checks]
# Number of recent log lines to analyze
log_lines_to_check = 100

# Log files to check
slurmctld_log = /var/log/slurm/slurmctld.log
slurmdbd_log = /var/log/slurm/slurmdbd.log

[job_tests]
# Enable/disable actual job submission tests
# Set to false to skip potentially disruptive tests
enable_job_submission = true

# Job test timeout (seconds)
job_test_timeout = 120

[pyxis]
# Pyxis plugin search paths
plugin_paths = [
    "/cm/local/apps/slurm/current/lib/slurm/spank_pyxis.so",
    "/usr/lib/slurm/spank_pyxis.so",
    "/usr/lib64/slurm/spank_pyxis.so"
]

[baseline]
# Default baseline file location
default_baseline_dir = /var/lib/slurm-healthcheck/baselines

# Baseline retention (days)
baseline_retention_days = 90

[accounting]
# Job history lookback period for baseline capture (days)
job_history_days = 30

# Minimum number of accounting records expected
# Set to 0 to disable minimum checks
min_users = 1
min_accounts = 1
min_clusters = 1

[alerts]
# Email notifications (future feature)
# enable_email_alerts = false
# alert_email = admin@example.com
# smtp_server = localhost

[advanced]
# Additional pdsh options for multi-node checks
# pdsh_options = "-w"

# Expected node count (0 = auto-detect)
expected_node_count = 0

# Critical services that must be running
critical_services = ["slurmctld", "slurmdbd", "munge"]

